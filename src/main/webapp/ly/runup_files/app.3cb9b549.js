(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(21).concat([function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var s=i(21);i.n(s).a},,,,,,,,,,,,,function(t,e,i){"use strict";var s=i(22);i.n(s).a},function(t,e,i){"use strict";var s=i(23);i.n(s).a},function(t,e,i){"use strict";var s=i(24);i.n(s).a},function(t,e,i){"use strict";var s=i(25);i.n(s).a},function(t,e,i){"use strict";var s=i(26);i.n(s).a},function(t,e,i){"use strict";var s=i(27);i.n(s).a},function(t,e,i){"use strict";var s=i(28);i.n(s).a},function(t,e,i){"use strict";var s=i(29);i.n(s).a},function(t,e,i){"use strict";var s=i(30);i.n(s).a},function(t,e,i){"use strict";var s=i(31);i.n(s).a},function(t,e,i){"use strict";var s=i(32);i.n(s).a},function(t,e,i){"use strict";var s=i(33);i.n(s).a},function(t,e,i){"use strict";var s=i(34);i.n(s).a},function(t,e,i){"use strict";var s=i(35);i.n(s).a},function(t,e,i){"use strict";var s=i(36);i.n(s).a},function(t,e,i){"use strict";var s=i(37);i.n(s).a},function(t,e,i){"use strict";var s=i(38);i.n(s).a},function(t,e,i){"use strict";var s=i(39);i.n(s).a},function(t,e,i){"use strict";var s=i(40);i.n(s).a},,,function(t,e,i){"use strict";var s=i(41);i.n(s).a},function(t,e,i){"use strict";var s=i(42);i.n(s).a},,function(t,e,i){"use strict";i.r(e);var s=i(54),a=i.n(s),n=i(7),o=(i(111),i(2)),c=i.n(o),r=i(56),l=i(43);function u(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function d(t,e){if(!u(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}}var m={name:"slide",data:function(){return{dots:[],currentPageIndex:0}},props:{imgData:{type:Array,default:[]},color:{type:String,default:""},interval:{type:Number,default:3e3},loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},showDot:{type:Boolean,default:!0},click:{type:Boolean,default:!0},threshold:{type:Number,default:.3},speed:{type:Number,default:400}},mounted:function(){var t=this;this.update(),window.addEventListener("resize",function(){t.slide&&t.slide.enabled&&(clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.slide.isInTransition?t._onScrollEnd():t.autoPlay&&t._play(),t.refresh()},320))})},activated:function(){if(this.slide){this.slide.enable();var t=this.slide.getCurrentPage().pageX;this.slide.goToPage(t,0,0),this.currentPageIndex=t,this.autoPlay&&this._play()}},deactivated:function(){this.slide.disable(),clearTimeout(this.timer)},beforeDestroy:function(){this.slide.disable(),clearTimeout(this.timer)},methods:{jump:function(t){""!==t&&(window.location.href=t)},update:function(){var t=this;this.slide&&this.slide.destroy(),this.$nextTick(function(){t.init()})},refresh:function(){this._setSlideWidth(!0),this.slide.refresh()},prev:function(){this.slide.prev()},next:function(){this.slide.next()},init:function(){clearTimeout(this.timer),this.currentPageIndex=0,this._setSlideWidth(),this.showDot&&this._initDots(),this._initSlide(),this.autoPlay&&this._play()},_setSlideWidth:function(t){this.children=this.$refs.slideGroup.children;for(var e=0,i=this.$refs.slide.clientWidth,s=0;s<this.children.length;s+=1){var a=this.children[s];d(a,"slide-item"),a.style.width=i+"px",e+=i}this.loop&&!t&&(e+=2*i),this.$refs.slideGroup.style.width=e+"px"},_initSlide:function(){var t=this;this.slide=new l.a(this.$refs.slide,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,stopPropagation:!0,click:this.click}),this.slide.on("scrollEnd",this._onScrollEnd),this.slide.on("touchEnd",function(){t.autoPlay&&t._play()}),this.slide.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},_onScrollEnd:function(){var t=this.slide.getCurrentPage().pageX;this.currentPageIndex=t,this.autoPlay&&this._play()},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.slide.next()},this.interval)}},watch:{loop:function(){this.update()},autoPlay:function(){this.update()},speed:function(){this.update()},threshold:function(){this.update()}}},h=(i(130),i(0)),p=Object(h.a)(m,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{ref:"slide",staticClass:"zjrb-component-banner"},[s("div",{ref:"slideGroup",staticClass:"zjrb-image-main"},i._l(i.imgData,function(e,t){return s("div",{key:t,on:{click:function(t){return i.jump(e.bannerurl)}}},[s("img",{attrs:{src:e.banner}})])}),0),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1<i.imgData.length,expression:"imgData.length > 1"}],staticClass:"zjrb-image-tab"},[s("ul",{style:{width:13*i.dots.length-7+"px"}},i._l(i.dots,function(t,e){return s("li",{key:e},[s("span",{class:{"tap-btn":!0,active:i.currentPageIndex===e},style:{"background-color":i.currentPageIndex===e?i.color+"!important":""}})])}),0)])])},[],!1,null,null,null).exports,v=i(1),f=i.n(v),g=i(79),y=i.n(g),_=i(55),b=i.n(_),w="/pro_personal",C={m:"api",subm:"runmostonce"},x={SUCCESS:1e3},k={name:"Address",props:{data:{type:Object,default:{}},index:{type:Number,default:0}},data:function(){return{provinceid:33e4,cityLists:[],city:0,areaLists:[],area:0}},watch:{city:function(t){var e=this.cityLists[t-1].cityid;this.changeValue(),this.addressAjax({cityid:e},2)},area:function(){this.changeValue()}},created:function(){this.init()},methods:{init:function(){this.addressAjax({provinceid:this.provinceid},1)},addressAjax:function(t,e){var i=this;c()({url:w+"/",params:f()({action:"pulltheprovincialcity"},C,t),method:"GET",data:t}).then(function(t){if(1*t.code===x.SUCCESS)switch(e){case 1:i.cityLists=t.data;break;default:i.areaLists=t.data}})},changeValue:function(){var t=0===this.city?"":this.cityLists[this.city-1].city,e=0===this.area?"":this.areaLists[this.area-1].area;this.$emit("changeValue",t+"/"+e,this.index)}}},I=(i(143),Object(h.a)(k,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"form-address one-line"},[s("div",{staticClass:"label"},[i._v(i._s(i.data.title))]),i._v(" "),s("div",{staticClass:"form-value"},[s("div",{staticClass:"city"},[s("select",{directives:[{name:"model",rawName:"v-model",value:i.city,expression:"city"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});i.city=t.target.multiple?e:e[0]}}},[s("option",{attrs:{value:"0",disabled:""}},[i._v("城市")]),i._v(" "),i._l(i.cityLists,function(t,e){return s("option",{key:"city-"+e,domProps:{value:e+1}},[i._v(i._s(t.city))])})],2)]),i._v(" "),s("div",{staticClass:"area"},[s("select",{directives:[{name:"model",rawName:"v-model",value:i.area,expression:"area"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});i.area=t.target.multiple?e:e[0]}}},[s("option",{attrs:{value:"0",disabled:""}},[i._v("区")]),i._v(" "),i._l(i.areaLists,function(t,e){return s("option",{key:"area-"+e,domProps:{value:e+1}},[i._v(i._s(t.area))])})],2)]),i._v(" "),s("div",{staticClass:"select-icon"})]),i._v(" "),s("div",{staticClass:"border"})])},[],!1,null,"66478098",null).exports),D={name:"Input",data:function(){return{value:""}},watch:{value:function(t){var e=50;switch(this.value=t.replace(/^ */,""),1*this.data.value_type){case 1:this.value=t.replace(/\D/g,""),e=11;break;case 2:this.value=t.replace(/\D/g,"");break;case 4:e=18}t.length>e&&(this.value=t.substring(0,e)),this.changeValue(t)}},props:{data:{default:{},type:Object},index:{type:Number,default:0}},methods:{focus:function(t){(t||window.event).target.scrollIntoView(!0)},changeValue:function(t){this.$emit("changeValue",t,this.index)}}},S=(i(144),Object(h.a)(D,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-input one-line"},[i("div",{staticClass:"label"},[e._v(e._s(e.data.title))]),e._v(" "),i("div",{staticClass:"form-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"text",placeholder:e.data.name},domProps:{value:e.value},on:{focus:e.focus,input:function(t){t.target.composing||(e.value=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"border"})])},[],!1,null,"37ee2542",null).exports),$=(i(145),Object(h.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-hr"},[e("div",{staticClass:"hr"})])}],!1,null,null,null).exports),V={name:"Html",data:function(){return{}},props:{data:{default:{},type:Object}}},T=(i(146),Object(h.a)(V,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"html-component",domProps:{innerHTML:this._s(this.data.value||"")}})},[],!1,null,null,null).exports),j={name:"Loading",data:function(){return{}},props:{color:{type:String,default:"#fff"}}},L=(i(147),Object(h.a)(j,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-component"},[i("div",{staticClass:"loader-inner line-spin-fade-loader"},[i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}}),t._v(" "),i("div",{style:{"background-color":t.color}})])])},[],!1,null,"3d3197b0",null).exports),A={name:"Images",components:{Loading:L},props:{data:{type:Object,default:{}},index:{type:Number,default:0}},data:function(){return{readyNum:0,imgsLists:[],key:[],limitSize:5242880,origin:window.location.origin+w+"/"}},methods:{choiceImg:function(t){var e=t||window.event,i=e.target.files,s=this.readyNum,a=[],n=[];for(var o in i)if(Object.hasOwnProperty.call(i,o)){var r=i[o];this.imgsLists.length+s<this.data.max&&/(png)|(jpg)|(jpeg)|(gif)/.test(r.type)&&r.size<this.limitSize?(s+=1,a.push(this.upfile(r)),n.push(r)):this.dialog({type:"msg",message:"请上传小于5M的jpg、jpeg、png、gif图片"},!0)}this.readyNum=s,this.upfileAll(a,n),e.target.value=""},upfile:function(t){var e=new FormData;return e.append("img",t),c()({url:w+"/",params:{m:"api",subm:"newupload",action:"uploadt",type:"image",name:"img",truesubm:C.subm},data:e,method:"POST"})},upfileAll:function(t,i){var e=this,s=[],a=[],n=window.URL||window.webkitURL;Array.isArray(t)&&c.a.all(t).then(function(t){Array.isArray(t)&&(t.forEach(function(t,e){t.code===x.SUCCESS&&(s.push(n.createObjectURL(i[e])),a.push(t.data.key))}),e.readyNum=0,e.imgsLists=e.imgsLists.concat(s),e.key=e.key.concat(a),e.$emit("changeValue",e.key,e.index))}).catch(function(){e.readyNum=0})},deleteImg:function(t){var e=this.imgsLists.slice(0,this.imgsLists.length);e.splice(t,1),this.imgsLists=e,this.key.splice(t,1),this.$emit("changeValue",this.key,this.index)},previewImage:function(t){wx.previewImage({current:t,urls:this.imgsLists})}}},E=(i(148),Object(h.a)(A,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"form-images multi-line"},[s("div",{staticClass:"label"},[i._v("\n        "+i._s(i.data.title)+"\n        "),s("span",{staticClass:"msg"},[i._v("最多上传"+i._s(i.data.max)+"张，每张最大5M")])]),i._v(" "),s("div",{staticClass:"content"},[i._l(i.imgsLists,function(t,e){return s("div",{key:"img-"+e,staticClass:"img-item"},[s("span",{staticClass:"delete",on:{click:function(t){return i.deleteImg(e)}}}),i._v(" "),s("img",{attrs:{src:t}})])}),i._v(" "),i._l(i.readyNum,function(t,e){return s("div",{key:"img-ready-"+e,staticClass:"img-item"},[s("Loading",{attrs:{color:"#cccccc"}})],1)}),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.imgsLists.length+i.readyNum<i.data.max,expression:"(imgsLists.length + readyNum) < data.max"}],staticClass:"img-item add-img"},[s("input",{attrs:{type:"file",multiple:"multiple"},on:{change:i.choiceImg}})])],2)])},[],!1,null,"0d504c44",null).exports),N={name:"Date",props:{data:{type:Object,default:{}},index:{type:Number,default:0}},watch:{tValue:function(t){this.isChoice=!0;var e=this.data.max.split("-"),i=this.data.min.split("-"),s=t.split("-");this.data.max&&(1*s[0]<1*i[0]||1*s[0]==1*i[0]&&1*s[1]<1*i[1]||1*s[0]==1*i[0]&&1*s[1]==1*i[1]&&1*s[2]<1*i[2])&&(t="",this.dialog({type:"msg",message:"不能早于"+this.data.min},!0)),this.data.min&&(1*s[0]>1*e[0]||1*s[0]==1*e[0]&&1*s[1]>1*e[1]||1*s[0]==1*e[0]&&1*s[1]==1*e[1]&&1*s[2]>1*e[2])&&(t="",this.dialog({type:"msg",message:"不能晚于"+this.data.max},!0)),this.value=t,this.$emit("changeValue",t,this.index)}},data:function(){return{isChoice:!1,type:"date",value:"",tValue:null}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.value=this.data.name,this.type=7===this.data.attribute_types?"date":"time"}}},P=(i(149),Object(h.a)(N,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"form-date one-line"},[e("div",{staticClass:"label"},[n._v(n._s(n.data.title))]),n._v(" "),e("div",{staticClass:"form-value"},[e("div",{class:{value:!0,choice:n.isChoice}},[n._v("\n            "+n._s(n.value)+"\n            "),"checkbox"===n.type?e("input",{directives:[{name:"model",rawName:"v-model",value:n.tValue,expression:"tValue"}],attrs:{placeholder:n.data.name,type:"checkbox"},domProps:{checked:Array.isArray(n.tValue)?-1<n._i(n.tValue,null):n.tValue},on:{change:function(t){var e=n.tValue,i=t.target,s=!!i.checked;if(Array.isArray(e)){var a=n._i(e,null);i.checked?a<0&&(n.tValue=e.concat([null])):-1<a&&(n.tValue=e.slice(0,a).concat(e.slice(a+1)))}else n.tValue=s}}}):"radio"===n.type?e("input",{directives:[{name:"model",rawName:"v-model",value:n.tValue,expression:"tValue"}],attrs:{placeholder:n.data.name,type:"radio"},domProps:{checked:n._q(n.tValue,null)},on:{change:function(t){n.tValue=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:n.tValue,expression:"tValue"}],attrs:{placeholder:n.data.name,type:n.type},domProps:{value:n.tValue},on:{input:function(t){t.target.composing||(n.tValue=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"select-icon"})]),n._v(" "),e("div",{staticClass:"border"})])},[],!1,null,"65208228",null).exports),O={name:"Select",data:function(){return{isChoice:!1,sValue:1,options:[]}},watch:{sValue:function(t){this.isChoice=-1!==t,this.$emit("changeValue",this.options[t-1],this.index)}},props:{data:{type:Object,default:{}},index:{type:Number,default:0}},created:function(){this.init()},methods:{init:function(){this.options=this.data.option}}},z=(i(150),Object(h.a)(O,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"form-select one-line"},[s("div",{staticClass:"label"},[i._v(i._s(i.data.title))]),i._v(" "),s("div",{staticClass:"form-value"},[s("div",{class:{value:!0,choice:i.isChoice}},[s("select",{directives:[{name:"model",rawName:"v-model",value:i.sValue,expression:"sValue"}],attrs:{"aria-placeholder":i.data.name},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});i.sValue=t.target.multiple?e:e[0]}}},i._l(i.options,function(t,e){return s("option",{key:"option-"+e,attrs:{disabled:0===e},domProps:{value:e+1}},[i._v(i._s(t))])}),0)]),i._v(" "),s("div",{staticClass:"select-icon"})]),i._v(" "),s("div",{staticClass:"border"})])},[],!1,null,"43fe5c7a",null).exports),q={name:"List",data:function(){return{actIndex:{},type:2,items:[],oValue:"",isOther:!1,isLimit:!1,values:{}}},props:{data:{type:Object,default:{}},index:{type:Number,default:0}},watch:{oValue:function(t){this.oValue=t.replace(/^ */,""),50<t.length&&(this.oValue=t.substring(0,50)),this.values.other=this.oValue,this.$emit("changeValue",this.values,this.index)}},created:function(){this.init()},methods:{init:function(){this.type=4===this.data.attribute_types?2:1,this.items=this.data.option,this.isOther=1===this.data.other,this.isLimit=5===this.data.attribute_types&&this.data.max},changeValue:function(t){var e=f()({},this.actIndex);if(1===this.type)e[t]=!e[t];else{for(var i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=!1);e[t]=!0}for(var s in e[this.items.length]?this.values.other=this.oValue||"":delete this.values.other,this.actIndex=f()({},e),e)Object.hasOwnProperty.call(e,s)&&(e[s]&&1*s!==this.items.length?this.values[s]=this.items[s]:delete this.values[s]);this.$emit("changeValue",this.values,this.index)}}},F=(i(151),Object(h.a)(q,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"form-list multi-line"},[s("div",{staticClass:"label"},[i._v("\n        "+i._s(i.data.title)+"\n        "),s("span",{directives:[{name:"show",rawName:"v-show",value:i.isLimit,expression:"isLimit"}],staticClass:"msg"},[i._v("至少选"+i._s(i.data.min)+"项,至多选"+i._s(i.data.max)+"项")])]),i._v(" "),s("div",{staticClass:"options"},[i._l(i.items,function(t,e){return s("div",{key:"item-"+e,staticClass:"item",on:{click:function(t){return i.changeValue(e)}}},[s("div",{class:{dot:!0,radio:2===i.type,activate:i.actIndex[e]}},[s("div",{staticClass:"point"})]),i._v(" "),s("div",{staticClass:"content"},[i._v(i._s(t))])])}),i._v(" "),i.isOther?s("div",{staticClass:"item other",on:{click:function(t){return i.changeValue(i.items.length)}}},[s("div",{class:{dot:!0,radio:2===i.type,activate:i.actIndex[i.items.length]}},[s("div",{staticClass:"point"})]),i._v(" "),s("div",{staticClass:"content"},[i._v("其他")])]):i._e(),i._v(" "),i.actIndex[i.items.length]?s("div",{staticClass:"other-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.oValue,expression:"oValue"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:i.oValue},on:{input:function(t){t.target.composing||(i.oValue=t.target.value)}}})]):i._e()],2)])},[],!1,null,"7ca8701a",null).exports),M={name:"Textarea",data:function(){return{value:""}},watch:{value:function(t){this.value=t.replace(/^ */,""),1e4<t.length&&(this.value=t.substring(0,1e4)),this.changeValue(t)}},props:{data:{default:{},type:Object},index:{type:Number,default:0}},methods:{focus:function(t){(t||window.event).target.scrollIntoView(!0)},changeValue:function(t){this.$emit("changeValue",t,this.index)}}},U=(i(152),Object(h.a)(M,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-input multi-line"},[i("div",{staticClass:"label"},[e._v(e._s(e.data.title))]),e._v(" "),i("div",{staticClass:"form-value"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"text",placeholder:e.data.name},domProps:{value:e.value},on:{focus:e.focus,input:function(t){t.target.composing||(e.value=t.target.value)}}})])])},[],!1,null,"1090775d",null).exports),B={1:"Input",2:"Select",3:"Textarea",4:"Lists",5:"Lists",6:"ImageUp",7:"DateTime",8:"DateTime",9:"Address",10:"Html"},H={name:"Form",data:function(){return{fieldIndexes:B,formValue:{}}},components:{Address:I,Input:S,Hr:$,Html:T,ImageUp:E,DateTime:P,Select:z,Lists:F,Textarea:U},props:{data:{type:Array,default:[]},tab:{type:Number,default:0},isSub:{type:Boolean,default:!0}},methods:{changeValue:function(t,e){this.formValue[e]=t;this.$store.commit("upFormdata"+{1:"First",3:"Third"}[this.tab],this.formValue)}}},R=(i(153),{components:{Form:Object(h.a)(H,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"form-component"},[s("div",{staticClass:"item-lists"},i._l(i.data,function(t,e){return s("div",{key:"item-"+e,staticClass:"item"},[s(i.fieldIndexes[t.attribute_types],{tag:"component",attrs:{data:t,index:t.serial},on:{changeValue:i.changeValue}})],1)}),0)])},[],!1,null,"33660296",null).exports},data:function(){return{formData:[],isSubmit:!1,isSub:!0,ids:""}},methods:{formfieldAjax:function(){var e=this;this.dialog({type:"loading"});var t=1*this.$route.query.preview==1?2:1;c()({url:w+"/",params:f()({action:"tab",t:this.tab},C,{type:t}),method:"GET"}).then(function(t){switch(t.code){case x.SUCCESS:e.dialog({type:"close"}),e.ids=t.ids,e.formData=t.data;break;default:e.dialog({type:"msg",message:t.msg},!0)}}).catch(function(t){e.dialog({type:"msg",message:t.message},!0)})},formSubmitAjax:function(){var e=this;this.dialog({type:"loading"});var t=new FormData;t.append("formdata",b()(this.formValue)),c()({url:w+"/",params:f()({action:"tabsub",t:this.tab,ids:this.ids},C),data:t,method:"POST"}).then(function(t){switch(e.isSubmit=!1,t.code){case x.SUCCESS:e.isSub=!1,setTimeout(function(){e.dialog({type:"sub"}),e.isSub=!0,e.clearFormdata()},20);break;default:e.dialog({type:"msg",message:t.msg},!0)}}).catch(function(t){e.isSubmit=!1,e.dialog({type:"msg",message:t.message},!0)})},clearFormdata:function(){this.$store.commit("upFormdata"+{1:"First",2:"Third"}[this.tab],{})},isPreview:function(){return 1*this.$route.query.preview==1},formTest:function(){var e=this,i=[0,""],s=0;return this.formData.forEach(function(t){if(1*t.required!=1||1*t.attribute_types==10||e.formValue[t.serial]&&!/(\[\])|(\{\})/.test(b()(e.formValue[t.serial]))){if(e.formValue[t.serial])switch(1*t.attribute_types){case 1:switch(1*t.value_type){case 1:/^1[3-9]\d{9}$/.test(e.formValue[t.serial])||(i=0===i[0]?[1,t.title+"填写有误"]:i);break;case 3:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/g.test(e.formValue[t.serial])||(i=0===i[0]?[1,t.title+"填写有误"]:i);break;case 4:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$|^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}[0-9Xx]$/.test(e.formValue[t.serial])||(i=0===i[0]?[1,t.title+"填写有误"]:i)}break;case 4:1*t.required&&"other"in e.formValue[t.serial]&&!e.formValue[t.serial].other&&(i=0===i[0]?[1,"请填写"+t.title+"的其它内容"]:i);break;case 5:s=y()(e.formValue[t.serial]).length-1,t.max&&s>t.max?i=0===i[0]?[1,t.title+"最多可选"+t.max+"项"]:i:t.min&&s<t.min&&(i=0===i[0]?[1,t.title+"最少需要选择"+t.min+"项"]:i),1*t.required&&"other"in e.formValue[t.serial]&&!e.formValue[t.serial].other&&(i=0===i[0]?[1,"请填写"+t.title+"的其它内容"]:i);break;case 9:"string"!=typeof e.formValue[t.serial]||""!==e.formValue[t.serial].split("/")[0]&&""!==e.formValue[t.serial].split("/")[1]||(i=0===i[0]?[1,t.title+"请填写完整"]:i)}}else i=0===i[0]?[1,"请填写"+t.title]:i;t.serial in e.formValue||(e.formValue[t.serial]="")}),i},submit:function(){if(this.isPreview())this.dialog({type:"msg",message:"此链接为预览链接"},!0);else if(!this.isSubmit){this.isSubmit=!0;var t=this.formTest();if(t[0])return this.dialog({type:"msg",message:t[1]},!0),void(this.isSubmit=!1);this.formSubmitAjax()}}}}),W={name:"Tab_1",mixins:[R],data:function(){return{prize:{dy:0,startY:0,endY:0}}},created:function(){this.init()},computed:{formValue:function(){return this.$store.state.formdataFirst},activityInfo:function(){return this.$store.state.activityInitInfo}},methods:{init:function(){this.tab="1",this.formfieldAjax()},goutoword:function(){this.$router.push({name:"Word",query:f()({},this.$route.query)})},prizemove:function(t){var e=t||window.event;e.preventDefault();var i=e.changedTouches[0].pageY;this.prize.dy=i-this.prize.startY+this.prize.endY},prizemovestart:function(t){var e=t||window.event;this.prize.startY=e.changedTouches[0].pageY},prizemoveend:function(){this.prize.endY=this.prize.dy}}},G=(i(154),Object(h.a)(W,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-1"},[i("div",{staticClass:"form"},[t.isSub?i("Form",{attrs:{data:t.formData,tab:1}}):t._e()],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activityInfo.isAwardbutton,expression:"activityInfo.isAwardbutton === 1"}],staticClass:"prize",style:{transform:"translateY("+t.prize.dy+"px)"},on:{touchmove:t.prizemove,touchstart:t.prizemovestart,touchend:t.prizemoveend}},[i("a",{attrs:{href:t.activityInfo.awardbuttonUrl}})]),t._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activityInfo.isMessagebutton,expression:"activityInfo.isMessagebutton === 1"}],staticClass:"goto-word",on:{click:t.goutoword}},[i("span",{staticClass:"word-icon"}),t._v(t._s(t.activityInfo.copywritingbutton)+"\n        ")]),t._v(" "),i("div",{staticClass:"form-submit",on:{click:t.submit}},[t._v("\n            确认\n        ")])])])},[],!1,null,"6187f92c",null).exports),X={name:"scroll",data:function(){return{scrollStatus:2}},props:{changeDate:{type:Number,default:0},noData:{type:Boolean,defalut:!0},noMore:{type:Boolean,default:!1},probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!0},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!0},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},watch:{changeDate:function(){var t=this;this.finishPullUp(),this.finishPullDown(),this.$nextTick(function(){t.refresh()})}},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new l.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX,pullDownRefresh:{threshold:50,stop:20},pullUpLoad:{threshold:-30}}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")}),this.pulldown&&this.scroll.on("pullingDown",function(){t.$emit("pullingDown")}))},finishPullUp:function(){this.scroll&&this.scroll.finishPullUp()},finishPullDown:function(){this.scroll&&this.scroll.finishPullDown()},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll(),window.addEventListener("resize",function(){t.refresh()})})}},Y=(i(155),{components:{Scroll:Object(h.a)(X,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrapper",staticClass:"scroll wrapper"},[e("div",{staticClass:"content"},[this._t("scroll")],2)])},[],!1,null,null,null).exports},data:function(){return{page:1,noMore:!0,noData:!0,changeDate:0,listData:[]}},methods:{listAjax:function(t){var e=this;this.dialog({type:"loading"}),c()({url:w+"/",params:f()({},C,{action:this.action,page:t,pastperiodmun:this.$route.query.pastperiodmun||""}),method:"GET"}).then(function(t){t.code===x.SUCCESS?(e.dialog({type:"close"}),e.noData=1===e.page&&0===t.data.list.length,e.noMore=1===e.page?t.data.list.length<20:t.data.list.length<10,"function"==typeof e.initData&&e.initData(t.data)):e.dialog({type:"msg",message:t.msg},!0),e.changeDate=(new Date).getTime()}).catch(function(t){e.dialog({type:"msg",message:t.message},!0),e.changeDate=(new Date).getTime()})},moreData:function(){this.noData||this.noMore||this.listAjax(this.page)},pullingDown:function(){this.page=1,this.listAjax(this.page)}}}),Z={name:"WordLists",props:{listData:{type:Array,default:[]},noData:{type:Boolean,default:!1},noMore:{type:Boolean,default:!1},type:{type:Number,default:0}},computed:{activityInfo:function(){return this.$store.state.activityInitInfo}},data:function(){return{}},methods:{isLike:function(t,e,i){var s={id:t,index:e};void 0!==i&&(s.i=i),this.type&&(s.type=void 0!==i?2:1),this.$emit("isLike",s)},reply:function(t,e,i){"praise"!==window.event.target.className&&this.$emit("reply",t,e,i)},isArray:function(t){return Array.isArray(t)},moreData:function(){this.$emit("moreData")},largeNum:function(t){return 1e4<=t?Math.floor(t/1e3)/10+"万":t}}},J=(i(156),Object(h.a)(Z,function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("div",{staticClass:"word-lists"},[n._l(n.listData,function(s,a){return o("div",{key:"item-"+a,staticClass:"item",on:{click:function(t){return n.reply(s.id,2,s.nick_name)}}},[o("div",{staticClass:"user-info"},[o("div",{staticClass:"header-img"},[o("img",{attrs:{src:s.head}})]),n._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"nick-name"},[n._v(n._s(s.nick_name))]),n._v(" "),o("div",{staticClass:"time"},[n._v(n._s(s.created_at))])]),n._v(" "),1===n.activityInfo.isSpeakhighly?o("div",{class:{like:!0,"is-like":1===s.dz}},[o("div",{staticClass:"like-nums"},[n._v(n._s(n.largeNum(s.praise_points)))]),n._v(" "),o("div",{staticClass:"praise",on:{click:function(t){return n.isLike(s.id,a)}}})]):n._e()]),n._v(" "),o("div",{staticClass:"content"},[n.isArray(s.content)&&1!==s.imgtype?o("div",n._l(s.content,function(t,e){return o("p",{key:e,staticClass:"text multi"},[n._v(n._s(t))])}),0):1!==s.imgtype?o("p",{staticClass:"text"},[n._v(n._s(s.content))]):1===s.imgtype?o("div",{staticClass:"img-lists"},n._l(s.content,function(t,e){return o("div",{key:"img-"+a+"-"+e,staticClass:"img-item"},[o("img",{attrs:{src:t}})])}),0):n._e(),n._v(" "),o("div",{staticClass:"sub-item"},n._l(s.sub,function(e,i){return 0!==s.sub.length?o("div",{key:"item-"+i,staticClass:"item"},[o("div",{staticClass:"user-info"},[o("div",{staticClass:"header-img"},[o("img",{attrs:{src:e.head}})]),n._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"nick-name"},[n._v(n._s(e.nick_name))]),n._v(" "),o("div",{staticClass:"time"},[n._v(n._s(e.created_at))])]),n._v(" "),1===n.activityInfo.isSpeakhighly?o("div",{class:{like:!0,"is-like":1===e.dz}},[o("div",{staticClass:"like-nums"},[n._v(n._s(n.largeNum(e.praise_points)))]),n._v(" "),o("div",{staticClass:"praise",on:{click:function(t){return n.isLike(e.id,a,i)}}})]):n._e()]),n._v(" "),o("div",{staticClass:"content"},[n.isArray(e.content)?o("div",n._l(e.content,function(t,e){return o("p",{key:e,staticClass:"text multi"},[n._v(n._s(t))])}),0):o("p",{staticClass:"text"},[n._v(n._s(e.content))])])]):n._e()}),0)])])}),n._v(" "),o("div",{class:{"more-data":!0,"no-data":n.noMore||n.noData},on:{click:n.moreData}},[n._v("\n        "+n._s(n.noMore?n.noData?"无数据":"没有更多":"显示更多")+"\n    ")])],2)},[],!1,null,"c3060564",null).exports),K=w+"/",Q={components:{WordLists:J},data:function(){return{isLikeReady:!1}},methods:{replyAjax:function(t,e){var i=this;this.dialog({type:"loading"});var s=new FormData;s.append("content",e),c()({url:K,params:f()({},C,{action:"comment",theme_id:this.themeid,id:2===this.commentType?t:0,type:this.commentType}),data:s,method:"POST"}).then(function(t){i.isFocus=!1,i.commit="";var e=t.code===x.SUCCESS?"评论成功，等待审核":t.msg;i.dialog({type:"msg",message:e},!0)}).catch(function(t){i.isFocus=!1,i.commit="",i.dialog({type:"msg",message:t.message},!0)})},isLike:function(t){var i=this;if(!this.isPreview()&&1===this.activityInfo.isSpeakhighly&&!this.isLikeReady){this.isLikeReady=!0;var e,s=t.id,a=t.index,n=t.i,o=t.type,r=[];e=1===(r=void 0!==n?this.listData[a].sub[n]:this.listData[a]).dz?this.unlike:this.lAction;var l=f()({},C,{action:e,id:s});o&&(l.type=o),c()({url:K,params:l,method:"GET"}).then(function(t){if(i.isLikeReady=!1,t.code===x.SUCCESS){var e=1!==r.dz?1:-1;void 0!==n?(i.listData[a].sub[n].dz=1===r.dz?0:1,i.listData[a].sub[n].praise_points=1*r.praise_points+e):(i.listData[a].dz=1===r.dz?0:1,i.listData[a].praise_points=1*r.praise_points+e)}else i.dialog({type:"msg",message:t.msg},!0)}).catch(function(t){i.isLikeReady=!1,i.dialog({type:"msg",message:t.message},!0)})}},isPreview:function(){return 1*this.$route.query.preview==1&&(this.dialog({type:"msg",message:"此链接为预览链接"},!0),!0)}}},tt={name:"Tab_2",mixins:[Q,Y],data:function(){return{title:"",theme:"",themeid:0,commit:"",commentDes:"",commentId:0,isFocus:!1,commentType:1,count:0}},computed:{activityInfo:function(){return this.$store.state.activityInitInfo}},watch:{commit:function(t){this.commit=t.replace(/^ */,""),200<t.length&&(this.commit=t.substring(0,200)),this.count=t.length}},created:function(){this.init()},activated:function(){console.log(this.$refs.scroll.clientHeight),this.changeDate=(new Date).getTime()},methods:{init:function(){this.action="theme",this.lAction="themethumbs",this.unlike="themethumbs",this.rAction="comment",this.listAjax(this.page)},reply:function(t,e,i){if(!this.isPreview()){var s=document.getElementById("comment");this.commentType=e,this.commentId=t,this.commentDes=i?"回复："+i:"",this.isFocus=!0,s.focus()}},sendMsg:function(){0!==this.count?this.count<5?this.dialog({type:"msg",message:"评论不少于5个字"},!0):this.replyAjax(this.commentId,this.commit):this.dialog({type:"msg",message:"请填写评论"},!0)},initData:function(t){if(1===this.page){var e=t.number_periods.split("-");this.title=e[0]+"年"+e[1]+"月话题",this.theme=t.theme,this.themeid=t.theme_id,this.listData=t.list}else this.listData=this.listData.concat(t.list);this.page+=1},goPast:function(){this.$router.push({name:"Past",query:f()({},this.$route.query)})},inputFocus:function(){setTimeout(function(){document.body.scrollTop=document.body.scrollHeight},300)}}},et=(i(157),Object(h.a)(tt,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-2"},[i("div",{ref:"scroll",class:{"word-lists-scroll":!0,nofooter:1!==e.activityInfo.isUserspeak}},[i("Scroll",{attrs:{changeDate:e.changeDate},on:{pullingDown:e.pullingDown}},[i("div",{attrs:{slot:"scroll"},slot:"scroll"},[i("div",{staticClass:"theme"},[i("div",{staticClass:"theme-info"},[i("div",{staticClass:"theme-date"},[e._v(e._s(e.title))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.activityInfo.isPasttopics,expression:"activityInfo.isPasttopics === 1"}],staticClass:"past-activity",on:{click:e.goPast}},[e._v("往期活动")]),e._v(" "),i("div",{staticClass:"select-icon"})]),e._v(" "),i("div",{staticClass:"theme-des",domProps:{innerHTML:e._s(e.theme)}})]),e._v(" "),i("div",{staticClass:"lists"},[i("WordLists",{attrs:{listData:e.listData,noData:e.noData,noMore:e.noMore},on:{moreData:e.moreData,reply:e.reply,isLike:e.isLike}})],1)])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.activityInfo.isUserspeak,expression:"activityInfo.isUserspeak === 1"}],staticClass:"footer"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFocus,expression:"!isFocus"}],staticClass:"content-btn",on:{click:function(t){return e.reply(e.themeid,1)}}},[i("div",{staticClass:"btn-icon"}),e._v(" "),i("p",[e._v(e._s(e.activityInfo.enterboxPrompt))])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isFocus,expression:"isFocus"}],staticClass:"comment-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.commit,expression:"commit"}],attrs:{type:"text",id:"comment",placeholder:e.commentDes},domProps:{value:e.commit},on:{focus:e.inputFocus,input:function(t){t.target.composing||(e.commit=t.target.value)}}}),e._v(" "),i("div",{staticClass:"count"},[e._v(e._s(e.count)+"/200")])]),e._v(" "),i("div",{staticClass:"send-message",on:{click:e.sendMsg}},[e._v("发送")])])])},[],!1,null,"3cbe9141",null).exports),it={name:"Tab_3",mixins:[R],data:function(){return{}},created:function(){this.init()},computed:{formValue:function(){return this.$store.state.formdataThird},activityInfo:function(){return this.$store.state.activityInitInfo}},methods:{init:function(){this.tab=2,this.formfieldAjax()}}},st=(i(158),{name:"Runup",components:{Banner:p,Tab1:G,Tab2:et,Tab3:Object(h.a)(it,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-3"},[i("div",{staticClass:"form"},[t.isSub?i("Form",{attrs:{data:t.formData,tab:3}}):t._e()],1),t._v(" "),i("div",{staticClass:"form-submit",on:{click:t.submit}},[t._v("\n        确认\n    ")])])},[],!1,null,"b9326c14",null).exports},data:function(){return{isSub:!1,bannerName:"",banner:[],tabList:[],tabName:[],tabIndex:-1,qrCode:"",qrMsg:""}},computed:{activityInfo:function(){return this.$store.state.activityInitInfo}},watch:{activityInfo:function(){this.init()}},created:function(){this.init()},methods:{init:function(){this.bannerName="Banner",this.tab(this.$route.query.tabindex?1:this.activityInfo.tabIndex),this.banner=this.activityInfo.banner||[];var i=[],s=[];Array.isArray(this.activityInfo.tab)&&(this.activityInfo.tab.forEach(function(t,e){1===t["tabbox"+(e+1)]&&(i.push("Tab"+(e+1)),s.push(t["tab"+(e+1)]))}),this.tabList=i,this.tabName=s),this.isWX()||this.isSubscribe()},isWX:function(){var t=navigator.userAgent;return!/(webview)|(MicroMessenger)/g.test(t)&&(this.isSub=!0,this.qrCode="/pro_personal/?m=api&subm=runmostonce&action=getorcode&url="+window.location.origin+"/assets/runUpH5/runup",this.qrMsg="打开微信，扫描二维码进入活动",!0)},isSubscribe:function(){this.isSub=1===this.activityInfo.isFollow&&1!==this.activityInfo.isSubscribe&&1*this.$route.query.preview!=1,this.isSub&&(this.qrCode=this.activityInfo.qrCode,this.qrMsg=this.activityInfo.noteConcern)},tab:function(t){this.tabIndex=t}}}),at=(i(159),Object(h.a)(st,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{attrs:{id:"runup"}},[s("div",{staticClass:"banner"},[s(i.bannerName,{tag:"component",attrs:{imgData:i.banner,loop:1<i.banner.length&&0!==i.activityInfo.bannerTime,autoPlay:0!==i.activityInfo.bannerTime,interval:i.activityInfo.bannerTime||3e3}})],1),i._v(" "),s("div",{staticClass:"tab"},i._l(i.tabName,function(t,e){return s("div",{key:"tab-"+e,class:{"tab-level":!0,activity:i.tabIndex===e},on:{click:function(t){return i.tab(e)}}},[i._v("\n            "+i._s(i.tabName[e])+"\n        ")])}),0),i._v(" "),s("div",{staticClass:"content"},[s("keep-alive",[s(i.tabList[i.tabIndex],{tag:"component"})],1)],1),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.isSub,expression:"isSub"}],staticClass:"subscribe"},[s("div",{staticClass:"qr-code"},[s("img",{attrs:{src:i.qrCode,alt:"qrcode"}})]),i._v(" "),s("p",{staticClass:"qr-msg",domProps:{innerHTML:i._s(i.qrMsg)}})])])},[],!1,null,"78c49127",null).exports),nt={name:"Word",mixins:[Y,Q],data:function(){return{}},created:function(){this.init()},computed:{activityInfo:function(){return this.$store.state.activityInitInfo}},methods:{init:function(){this.action="selectedmessages",this.lAction="thumbsup",this.unlike="cancelpoints",this.listAjax(this.page)},initData:function(t){1===this.page?this.listData=t.list:this.listData=this.listData.concat(t.list),this.page+=1},goBack:function(){var t=this.$route.query;delete t.tabindex,this.$router.push({name:"Runup",query:f()({},t)})}}},ot=(i(160),Object(h.a)(nt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"leave-word"}},[i("div",{staticClass:"title"},[i("div",{staticClass:"go-back",on:{click:t.goBack}},[i("span",{staticClass:"icon"}),t._v("返回\n        ")]),t._v("\n        精选留言\n    ")]),t._v(" "),i("div",{staticClass:"list-scroll"},[i("Scroll",[i("div",{staticClass:"scroll-box",attrs:{slot:"scroll"},slot:"scroll"},[i("WordLists",{attrs:{listData:t.listData,noData:t.noData,noMore:t.noMore,type:1},on:{moreData:t.moreData,isLike:t.isLike}})],1)])],1)])},[],!1,null,"a88cb48e",null).exports),rt={name:"Past",data:function(){return{pastLists:[]}},created:function(){this.initAjax()},methods:{initAjax:function(){var e=this;this.dialog({type:"loading"}),c()({url:w+"/",params:f()({},C,{action:"pasttopic"}),method:"GET"}).then(function(t){t.code===x.SUCCESS?(e.dialog({type:"close"}),e.pastLists=t.data):e.dialog({type:"msg",message:t.msg},!0)}).catch(function(t){e.dialog({type:"msg",message:t.message},!0)})},goto:function(t){var e=this.$route.query;t&&(e.pastperiodmun=t,e.tabindex=1),this.$router.push({name:"Runup",query:f()({},e)})}}},lt=(i(161),Object(h.a)(rt,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"past-activitys"},[s("div",{staticClass:"title"},[s("div",{staticClass:"go-back",on:{click:function(t){return i.goto(null)}}},[s("span",{staticClass:"icon"}),i._v("返回\n        ")]),i._v("\n        往期话题\n    ")]),i._v(" "),s("div",{staticClass:"past-lists"},i._l(i.pastLists,function(e,t){return s("div",{key:"item-"+t,staticClass:"item",on:{click:function(t){return i.goto(e.number_periods)}}},[s("div",{staticClass:"content"},[s("div",{staticClass:"text"},[i._v(i._s(e.represent))]),i._v(" "),s("div",{staticClass:"select-icon"})])])}),0)])},[],!1,null,"5184d181",null).exports);n.a.use(r.a);var ct=new r.a({base:"/assets/runUpH5",mode:"history",routes:[{path:"/",name:"Runup",component:at},{path:"/runup",name:"Runup",component:at},{path:"/word",name:"Word",component:ot},{path:"/past",name:"Past",component:lt}]}),ut={name:"Dialog",data:function(){return{}},components:{Loading:L},props:{type:{type:String,default:"msg"},opacity:{type:Number,default:.8},visible:{type:Boolean,default:!0},message:{type:String,default:""}},methods:{close:function(){this.$emit("close",{type:"close"})}}},dt=(i(164),{name:"App",mixins:[{data:function(){return{dialogConfig:{type:"msg",opacity:0,visible:!1,message:""}}},components:{Dialog:Object(h.a)(ut,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"ignore",style:{"background-color":"rgba(0, 0, 0, "+t.opacity+")"},attrs:{id:"dialog"}},["loading"===t.type?i("Loading"):t._e(),t._v(" "),"err"===t.type?i("div",{staticClass:"dialog-err"},[i("p",[t._v(t._s(t.message))])]):t._e(),t._v(" "),"msg"===t.type?i("div",{staticClass:"dialog-msg"},[t._v("\n      "+t._s(t.message)+"\n  ")]):t._e(),t._v(" "),"sub"===t.type?i("div",{staticClass:"dialog-sub"},[t._m(0),t._v(" "),i("div",{staticClass:"close",on:{click:t.close}},[t._v("\n          确定\n      ")])]):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"success iconfont icon-gouhao"}),this._v(" "),e("div",{staticClass:"message"},[this._v("提交成功，感谢您的参与。")])])}],!1,null,"4c1ad7d3",null).exports},methods:{dialogType:function(t,e){var i=this,s={type:t.type||"msg",opacity:t.opacity||0,visible:!0,message:t.message||"异常错误"};switch(t.type){case"close":s.visible=!1;break;case"loading":case"err":case"sub":s.opacity=.4}this.dialogConfig=f()({},s),e&&setTimeout(function(){i.dialogConfig={type:"",message:"",visible:!1}},1e3)}}}],data:function(){return{appHeight:"100vh"}},created:function(){window.$eventBus.$on("dialogType",this.dialogType);var t=navigator.userAgent;/(webview)|(MicroMessenger)/g.test(t)?this.authorization():this.initAjax(),this.bodyHeight()},mounted:function(){var t=this;window.addEventListener("resize",function(){t.bodyHeight()})},methods:{bodyHeight:function(){var t=document.body.clientHeight;t<=400||(this.appHeight=t+"px",780<t&&(this.appHeight=t-34+"px"))},authorization:function(){if(this.dialog({type:"loading"}),sessionStorage.jump)this.initAjax();else{sessionStorage.jump=1;var t=encodeURIComponent(window.location.href);window.location.href=window.location.origin+w+"/api/runmostonce/wxlogin?baseurl="+t}},userInfoAjax:function(){return c()({url:w+"/",params:f()({action:"getuserinfo"},C),method:"GET"})},activityAjax:function(){this.dialog({type:"loading"});return c()({url:w+"/",params:f()({action:"initialization"},C),method:"GET"})},initAjax:function(){var s=this;this.dialog({type:"loading"}),c.a.all([this.activityAjax(),this.userInfoAjax()]).then(function(t){var e=t[0],i=t[1];e.data.code===x.SUCCES?(s.initData(e.data,i.data||{}),s.dialog({type:"close"})):s.dialog({type:"err",message:t.msg})}).catch(function(t){s.dialog({type:"err",message:t.message})})},initData:function(t,e){var i={title:t.share_title,summaries:t.share_summaries,thumbnails:t.share_thumbnails,url:window.location.href};this.setShow(i);var s={banner:t.banner_json,tab:t.tab_json,tabIndex:this.$route.query.tabindex?1:0,bannerTime:1e3*t.banner_time,isFollow:t.is_follow,isSubscribe:e.subscribe,qrCode:t.qr_code,noteConcern:t.note_concern,isMessagebutton:t.is_messagebutton,copywritingbutton:t.copywritingbutton,isAwardbutton:t.is_awardbutton,awardbuttonUrl:t.awardbutton_url,isUserspeak:t.is_userspeak,enterboxPrompt:t.enterbox_prompt,isSpeakhighly:t.is_speakhighly,isPasttopics:t.is_pasttopics};this.$store.commit("upInitInfo",s)},setShow:function(t){var e=document.getElementById("nxpt_share_title"),i=document.getElementById("nxpt_share_desc"),s=document.getElementById("nxpt_share_image"),a=document.getElementById("nxpt_share_link");e&&(e.value=t.title),i&&(i.value=t.summaries),s&&(s.value=t.thumbnails),a&&(a.value=decodeURIComponent(window.location.origin+"/assets/runUpH5/runup")),"nxpt"in window&&"shareReset"in window.nxpt&&"function"==typeof window.nxpt.shareReset&&window.nxpt.shareReset()}}}),mt=(i(165),Object(h.a)(dt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:"height:"+t.appHeight,attrs:{id:"app"}},[i("router-view"),t._v(" "),i("Dialog",{attrs:{type:t.dialogConfig.type,opacity:t.dialogConfig.opacity,visible:t.dialogConfig.visible,message:t.dialogConfig.message},on:{close:t.dialogType}})],1)},[],!1,null,null,null).exports),ht=i(57),pt={upInitInfo:function(t,e){t.activityInitInfo=f()({},e)},upFormdataFirst:function(t,e){t.formdataFirst=e},upFormdataThird:function(t,e){t.formdataThird=e}};n.a.use(ht.a);var vt=new ht.a.Store({state:{activityInitInfo:{},formdataFirst:{},formdataThird:{}},action:{},getters:{},mutations:pt});i(166);window.$eventBus=new n.a,c.a.defaults.timeout=3e4,c.a.interceptors.request.use(function(t){return t},function(t){return a.a.reject(t)}),c.a.interceptors.response.use(function(t){return t.data},function(t){return/(timeout)/.test(t.message)&&(t.message="请求超时"),a.a.reject(t)}),n.a.mixin({methods:{dialog:function(t,e){window.$eventBus.$emit("dialogType",t,e)}}}),new n.a({el:"#app",router:ct,store:vt,render:function(t){return t(mt)}})}]),[[167,1,2,3]]]);